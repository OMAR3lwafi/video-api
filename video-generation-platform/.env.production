# ============================================
# DYNAMIC VIDEO CONTENT GENERATION PLATFORM
# Production Environment Configuration
# ============================================

# Core Configuration
NODE_ENV=production
PORT=3000
FRONTEND_PORT=80
ORCHESTRATOR_PORT=9000
DOMAIN=your-production-domain.com
APP_NAME=Video Generation Platform
APP_VERSION=1.0.0
LOG_LEVEL=info

# Database Configuration
DATABASE_URL=postgresql://postgres:your-secure-password-here@database:5432/videogen
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=videogen
POSTGRES_HOST=database
POSTGRES_PORT=5432

# Supabase Configuration
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key-here
SUPABASE_SERVICE_KEY=your-supabase-service-key-here

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-here
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000
REDIS_CONNECTION_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key-here
AWS_SECRET_ACCESS_KEY=your-aws-secret-key-here
AWS_REGION=us-east-1
AWS_S3_BUCKET=video-generation-platform
AWS_S3_ENDPOINT=https://s3.amazonaws.com
AWS_S3_PUBLIC_URL=https://video-generation-platform.s3.amazonaws.com
AWS_S3_UPLOAD_TIMEOUT=300000
AWS_S3_MAX_FILE_SIZE=524288000
AWS_S3_SIGNED_URL_EXPIRES=3600
AWS_S3_MULTIPART_THRESHOLD=104857600
AWS_S3_FORCE_PATH_STYLE=false

# Security Configuration
SESSION_SECRET=generate-secure-secret-with-openssl-rand-base64-32
JWT_SECRET=generate-secure-jwt-secret-with-openssl-rand-base64-32
JWT_REFRESH_SECRET=generate-secure-refresh-secret-with-openssl-rand-base64-32
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d
WEBHOOK_SECRET=generate-secure-webhook-secret-with-openssl-rand-base64-32
ENCRYPTION_KEY=generate-32-char-encryption-key-here
CORS_ORIGIN=https://your-production-domain.com
CORS_CREDENTIALS=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false
HELMET_CSP_DIRECTIVES={"defaultSrc":["'self'"],"scriptSrc":["'self'","'unsafe-inline'","https://cdn.jsdelivr.net"],"styleSrc":["'self'","'unsafe-inline'","https://fonts.googleapis.com"],"fontSrc":["'self'","https://fonts.gstatic.com"],"imgSrc":["'self'","data:","https:"],"mediaSrc":["'self'","https:"],"connectSrc":["'self'","https:"]}

# API Keys and Authentication
API_KEY_HEADER=X-API-Key
API_KEY_SECRET=generate-api-key-secret-here
ADMIN_API_KEY=generate-admin-api-key-here
SERVICE_API_KEY=generate-service-api-key-here

# Monitoring Configuration
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key-here
NEW_RELIC_APP_NAME=video-generation-platform
NEW_RELIC_LOGGING_ENABLED=true
DATADOG_API_KEY=your-datadog-api-key-here
DATADOG_APP_KEY=your-datadog-app-key-here
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_METRICS_PORT=9090

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=generate-secure-grafana-password-here
GRAFANA_SECRET_KEY=generate-grafana-secret-key-here
GRAFANA_SMTP_ENABLED=true
GRAFANA_SMTP_HOST=smtp.gmail.com
GRAFANA_SMTP_USER=your-email@gmail.com
GRAFANA_SMTP_PASSWORD=your-app-specific-password-here
GRAFANA_SMTP_FROM_ADDRESS=monitoring@your-domain.com
GRAFANA_SMTP_FROM_NAME=Video Platform Monitoring

# SMTP Configuration
SMTP_ENABLED=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password-here
SMTP_FROM_NAME=Video Platform
SMTP_FROM_ADDRESS=noreply@your-domain.com
SMTP_REPLY_TO=support@your-domain.com

# Feature Flags
ENABLE_WEBHOOKS=true
ENABLE_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHE=true
ENABLE_DEBUG_MODE=false
ENABLE_API_DOCS=false
ENABLE_HEALTH_CHECKS=true
ENABLE_METRICS=true
ENABLE_TRACING=true

# Video Processing Configuration
FFMPEG_PATH=/usr/local/bin/ffmpeg
FFPROBE_PATH=/usr/local/bin/ffprobe
MAX_VIDEO_DURATION_SECONDS=600
MAX_FILE_SIZE_MB=500
MAX_ELEMENTS_PER_VIDEO=10
MAX_CONCURRENT_JOBS=10
MAX_QUEUE_SIZE=100
PROCESSING_TIMEOUT_MS=600000
QUICK_PROCESSING_THRESHOLD_MS=30000
VIDEO_QUALITY_PRESET=medium
VIDEO_CODEC=libx264
AUDIO_CODEC=aac
DEFAULT_VIDEO_WIDTH=1920
DEFAULT_VIDEO_HEIGHT=1080
DEFAULT_VIDEO_FPS=30
DEFAULT_VIDEO_BITRATE=5000k
DEFAULT_AUDIO_BITRATE=128k

# File Storage Configuration
TEMP_UPLOAD_DIR=/tmp/uploads
PROCESSED_VIDEO_DIR=/tmp/processed
CACHE_DIR=/tmp/cache
MAX_UPLOAD_SIZE=524288000
ALLOWED_VIDEO_EXTENSIONS=mp4,mov,avi,webm,mkv
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png,gif,webp,svg
CLEANUP_INTERVAL_MS=3600000
CLEANUP_AGE_MS=86400000

# Queue Configuration
QUEUE_TYPE=redis
QUEUE_NAME=video-processing
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=5000
QUEUE_CLEANUP_INTERVAL=3600000
QUEUE_STALLED_INTERVAL=30000
QUEUE_REMOVE_ON_COMPLETE=true
QUEUE_REMOVE_ON_FAIL=false

# Cache Configuration
CACHE_TYPE=redis
CACHE_PREFIX=vgp:
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_CHECK_PERIOD=600

# Worker Configuration
WORKER_ENABLED=true
WORKER_CONCURRENCY=4
WORKER_POLL_INTERVAL=1000
WORKER_SHUTDOWN_TIMEOUT=30000
WORKER_HEALTH_CHECK_INTERVAL=60000

# Orchestrator Configuration
ORCHESTRATOR_ENABLED=true
ORCHESTRATOR_MODE=master
ORCHESTRATOR_WORKERS=4
ORCHESTRATOR_MAX_JOBS=100
ORCHESTRATOR_JOB_TIMEOUT=600000
ORCHESTRATOR_HEALTH_CHECK_INTERVAL=30000
ORCHESTRATOR_METRICS_INTERVAL=60000

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key
SSL_CA_PATH=/etc/ssl/certs/ca.crt
SSL_VERIFY=true
SSL_REJECT_UNAUTHORIZED=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=video-platform-backups
BACKUP_ENCRYPT=true
BACKUP_COMPRESSION=true

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_TIMEOUT=10000
CIRCUIT_BREAKER_ERROR_THRESHOLD=50
CIRCUIT_BREAKER_RESET_TIMEOUT=30000
CIRCUIT_BREAKER_VOLUME_THRESHOLD=10

# Performance Configuration
CLUSTER_ENABLED=true
CLUSTER_WORKERS=0
MEMORY_LIMIT_MB=2048
CPU_LIMIT=2
TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=120000
MAX_HEADER_SIZE=8192
MAX_PAYLOAD_SIZE=52428800

# Frontend Configuration
VITE_API_URL=https://api.your-domain.com
VITE_WS_URL=wss://ws.your-domain.com
VITE_AWS_S3_BUCKET=video-generation-platform
VITE_MAX_FILE_SIZE=524288000
VITE_SUPPORTED_VIDEO_FORMATS=mp4,mov,avi,webm
VITE_SUPPORTED_IMAGE_FORMATS=jpg,jpeg,png,gif,webp
VITE_ENABLE_ANALYTICS=true
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
VITE_PUBLIC_URL=https://your-domain.com

# Docker Configuration
DOCKER_REGISTRY=docker.io
DOCKER_IMAGE_PREFIX=video-platform
DOCKER_IMAGE_TAG=latest
BACKEND_REPLICAS=2
FRONTEND_REPLICAS=2
ORCHESTRATOR_REPLICAS=2
BACKEND_MEMORY_LIMIT=2G
BACKEND_MEMORY_RESERVATION=1G
FRONTEND_MEMORY_LIMIT=512M
FRONTEND_MEMORY_RESERVATION=128M
ORCHESTRATOR_MEMORY_LIMIT=1.5G
ORCHESTRATOR_MEMORY_RESERVATION=512M
REDIS_MEMORY_LIMIT=2.5G
REDIS_MEMORY_RESERVATION=1G
DB_MEMORY_LIMIT=2G
DB_MEMORY_RESERVATION=512M
PROMETHEUS_MEMORY_LIMIT=2G
PROMETHEUS_MEMORY_RESERVATION=512M
GRAFANA_MEMORY_LIMIT=512M
GRAFANA_MEMORY_RESERVATION=128M

# Traefik Configuration
TRAEFIK_ENABLED=true
TRAEFIK_DASHBOARD=true
TRAEFIK_DASHBOARD_AUTH=admin:generate-bcrypt-password-here
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_ACCESS_LOG=true
TRAEFIK_ACME_EMAIL=admin@your-domain.com
TRAEFIK_ACME_STORAGE=/certificates/acme.json
TRAEFIK_ACME_CA_SERVER=https://acme-v02.api.letsencrypt.org/directory

# Miscellaneous
TZ=UTC
LOCALE=en_US.UTF-8
DEBUG=false
VERBOSE=false
COLOR_OUTPUT=false
PRETTY_LOGS=false
