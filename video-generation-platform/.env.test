# ============================================
# TEST ENVIRONMENT CONFIGURATION
# For running tests only - DO NOT USE IN PRODUCTION
# ============================================

# Core Configuration
NODE_ENV=test
PORT=3001
FRONTEND_PORT=3002
ORCHESTRATOR_PORT=9001
DOMAIN=localhost
APP_NAME=Video Generation Platform Test
APP_VERSION=1.0.0-test
LOG_LEVEL=error

# Database Configuration (Test Database)
DATABASE_URL=postgresql://postgres:testpassword123@localhost:5432/videogen_test
DATABASE_POOL_MIN=1
DATABASE_POOL_MAX=5
DATABASE_SSL=false
DATABASE_SSL_REJECT_UNAUTHORIZED=false
POSTGRES_USER=postgres
POSTGRES_PASSWORD=testpassword123
POSTGRES_DB=videogen_test
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Supabase Configuration (Test)
SUPABASE_URL=https://test-project.supabase.co
SUPABASE_ANON_KEY=test-anon-key-for-testing-only
SUPABASE_SERVICE_KEY=test-service-key-for-testing-only

# Redis Configuration (Test)
REDIS_URL=redis://localhost:6379/1
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=testredispassword123
REDIS_DB=1
REDIS_MAX_RETRIES=1
REDIS_RETRY_DELAY=100
REDIS_CONNECTION_TIMEOUT=1000
REDIS_COMMAND_TIMEOUT=1000

# AWS S3 Configuration (Test/Mock)
AWS_ACCESS_KEY_ID=test-access-key-id
AWS_SECRET_ACCESS_KEY=test-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=test-video-generation-platform
AWS_S3_ENDPOINT=http://localhost:9000
AWS_S3_PUBLIC_URL=http://localhost:9000/test-video-generation-platform
AWS_S3_UPLOAD_TIMEOUT=5000
AWS_S3_MAX_FILE_SIZE=10485760
AWS_S3_SIGNED_URL_EXPIRES=300
AWS_S3_MULTIPART_THRESHOLD=5242880
AWS_S3_FORCE_PATH_STYLE=true

# Security Configuration (Test Values)
SESSION_SECRET=test-session-secret-32-characters-long!!
JWT_SECRET=test-jwt-secret-32-characters-long-test
JWT_REFRESH_SECRET=test-jwt-refresh-secret-32-chars-test!!
JWT_ACCESS_TOKEN_EXPIRY=1m
JWT_REFRESH_TOKEN_EXPIRY=5m
WEBHOOK_SECRET=test-webhook-secret-32-characters-test!
ENCRYPTION_KEY=testencryptionkey32characterslong
CORS_ORIGIN=http://localhost:3002
CORS_CREDENTIALS=true
RATE_LIMIT_WINDOW_MS=1000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false
HELMET_CSP_DIRECTIVES={"defaultSrc":["'self'"]}

# API Keys and Authentication (Test)
API_KEY_HEADER=X-API-Key
API_KEY_SECRET=test-api-key-secret-for-testing
ADMIN_API_KEY=test-admin-api-key-for-testing
SERVICE_API_KEY=test-service-api-key-for-testing

# Monitoring Configuration (Disabled for Tests)
SENTRY_DSN=
SENTRY_ENVIRONMENT=test
SENTRY_TRACES_SAMPLE_RATE=0
SENTRY_PROFILES_SAMPLE_RATE=0
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=video-generation-platform-test
NEW_RELIC_LOGGING_ENABLED=false
DATADOG_API_KEY=
DATADOG_APP_KEY=
PROMETHEUS_METRICS_ENABLED=false
PROMETHEUS_METRICS_PORT=9091

# Grafana Configuration (Test)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=testpassword
GRAFANA_SECRET_KEY=test-grafana-secret-key
GRAFANA_SMTP_ENABLED=false
GRAFANA_SMTP_HOST=
GRAFANA_SMTP_USER=
GRAFANA_SMTP_PASSWORD=
GRAFANA_SMTP_FROM_ADDRESS=
GRAFANA_SMTP_FROM_NAME=

# SMTP Configuration (Disabled for Tests)
SMTP_ENABLED=false
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=test@example.com
SMTP_PASSWORD=testpassword
SMTP_FROM_NAME=Test Video Platform
SMTP_FROM_ADDRESS=noreply@test.com
SMTP_REPLY_TO=support@test.com

# Feature Flags (Test Configuration)
ENABLE_WEBHOOKS=false
ENABLE_NOTIFICATIONS=false
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_ANALYTICS=false
ENABLE_RATE_LIMITING=false
ENABLE_CACHE=false
ENABLE_DEBUG_MODE=true
ENABLE_API_DOCS=true
ENABLE_HEALTH_CHECKS=true
ENABLE_METRICS=false
ENABLE_TRACING=false

# Video Processing Configuration (Test)
FFMPEG_PATH=/usr/local/bin/ffmpeg
FFPROBE_PATH=/usr/local/bin/ffprobe
MAX_VIDEO_DURATION_SECONDS=60
MAX_FILE_SIZE_MB=10
MAX_ELEMENTS_PER_VIDEO=3
MAX_CONCURRENT_JOBS=2
MAX_QUEUE_SIZE=10
PROCESSING_TIMEOUT_MS=10000
QUICK_PROCESSING_THRESHOLD_MS=1000
VIDEO_QUALITY_PRESET=ultrafast
VIDEO_CODEC=libx264
AUDIO_CODEC=aac
DEFAULT_VIDEO_WIDTH=640
DEFAULT_VIDEO_HEIGHT=480
DEFAULT_VIDEO_FPS=24
DEFAULT_VIDEO_BITRATE=1000k
DEFAULT_AUDIO_BITRATE=64k

# File Storage Configuration (Test)
TEMP_UPLOAD_DIR=/tmp/test-uploads
PROCESSED_VIDEO_DIR=/tmp/test-processed
CACHE_DIR=/tmp/test-cache
MAX_UPLOAD_SIZE=10485760
ALLOWED_VIDEO_EXTENSIONS=mp4,mov,avi
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png
CLEANUP_INTERVAL_MS=60000
CLEANUP_AGE_MS=300000

# Queue Configuration (Test)
QUEUE_TYPE=memory
QUEUE_NAME=test-video-processing
QUEUE_CONCURRENCY=1
QUEUE_MAX_RETRIES=1
QUEUE_RETRY_DELAY=100
QUEUE_CLEANUP_INTERVAL=60000
QUEUE_STALLED_INTERVAL=5000
QUEUE_REMOVE_ON_COMPLETE=true
QUEUE_REMOVE_ON_FAIL=true

# Cache Configuration (Test)
CACHE_TYPE=memory
CACHE_PREFIX=test:
CACHE_TTL=60
CACHE_MAX_SIZE=100
CACHE_CHECK_PERIOD=30

# Worker Configuration (Test)
WORKER_ENABLED=false
WORKER_CONCURRENCY=1
WORKER_POLL_INTERVAL=100
WORKER_SHUTDOWN_TIMEOUT=1000
WORKER_HEALTH_CHECK_INTERVAL=5000

# Orchestrator Configuration (Test)
ORCHESTRATOR_ENABLED=false
ORCHESTRATOR_MODE=test
ORCHESTRATOR_WORKERS=1
ORCHESTRATOR_MAX_JOBS=10
ORCHESTRATOR_JOB_TIMEOUT=10000
ORCHESTRATOR_HEALTH_CHECK_INTERVAL=5000
ORCHESTRATOR_METRICS_INTERVAL=10000

# SSL/TLS Configuration (Disabled for Tests)
SSL_ENABLED=false
SSL_CERT_PATH=
SSL_KEY_PATH=
SSL_CA_PATH=
SSL_VERIFY=false
SSL_REJECT_UNAUTHORIZED=false

# Backup Configuration (Disabled for Tests)
BACKUP_ENABLED=false
BACKUP_SCHEDULE=
BACKUP_RETENTION_DAYS=1
BACKUP_S3_BUCKET=
BACKUP_ENCRYPT=false
BACKUP_COMPRESSION=false

# Health Check Configuration (Test)
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=1000
HEALTH_CHECK_TIMEOUT=500
HEALTH_CHECK_RETRIES=1

# Circuit Breaker Configuration (Test)
CIRCUIT_BREAKER_ENABLED=false
CIRCUIT_BREAKER_TIMEOUT=1000
CIRCUIT_BREAKER_ERROR_THRESHOLD=50
CIRCUIT_BREAKER_RESET_TIMEOUT=1000
CIRCUIT_BREAKER_VOLUME_THRESHOLD=5

# Performance Configuration (Test)
CLUSTER_ENABLED=false
CLUSTER_WORKERS=1
MEMORY_LIMIT_MB=512
CPU_LIMIT=1
TIMEOUT=5000
KEEP_ALIVE_TIMEOUT=1000
HEADERS_TIMEOUT=1000
MAX_HEADER_SIZE=8192
MAX_PAYLOAD_SIZE=1048576

# Frontend Configuration (Test)
VITE_API_URL=http://localhost:3001
VITE_WS_URL=ws://localhost:3001
VITE_AWS_S3_BUCKET=test-video-generation-platform
VITE_MAX_FILE_SIZE=10485760
VITE_SUPPORTED_VIDEO_FORMATS=mp4,mov
VITE_SUPPORTED_IMAGE_FORMATS=jpg,png
VITE_ENABLE_ANALYTICS=false
VITE_SENTRY_DSN=
VITE_PUBLIC_URL=http://localhost:3002

# Docker Configuration (Test)
DOCKER_REGISTRY=localhost:5000
DOCKER_IMAGE_PREFIX=test-video-platform
DOCKER_IMAGE_TAG=test
BACKEND_REPLICAS=1
FRONTEND_REPLICAS=1
ORCHESTRATOR_REPLICAS=1
BACKEND_MEMORY_LIMIT=512M
BACKEND_MEMORY_RESERVATION=256M
FRONTEND_MEMORY_LIMIT=256M
FRONTEND_MEMORY_RESERVATION=128M
ORCHESTRATOR_MEMORY_LIMIT=512M
ORCHESTRATOR_MEMORY_RESERVATION=256M
REDIS_MEMORY_LIMIT=256M
REDIS_MEMORY_RESERVATION=128M
DB_MEMORY_LIMIT=512M
DB_MEMORY_RESERVATION=256M
PROMETHEUS_MEMORY_LIMIT=256M
PROMETHEUS_MEMORY_RESERVATION=128M
GRAFANA_MEMORY_LIMIT=256M
GRAFANA_MEMORY_RESERVATION=128M

# Traefik Configuration (Test)
TRAEFIK_ENABLED=false
TRAEFIK_DASHBOARD=false
TRAEFIK_DASHBOARD_AUTH=
TRAEFIK_LOG_LEVEL=ERROR
TRAEFIK_ACCESS_LOG=false
TRAEFIK_ACME_EMAIL=
TRAEFIK_ACME_STORAGE=
TRAEFIK_ACME_CA_SERVER=

# Miscellaneous (Test)
TZ=UTC
LOCALE=en_US.UTF-8
DEBUG=true
VERBOSE=true
COLOR_OUTPUT=true
PRETTY_LOGS=true
